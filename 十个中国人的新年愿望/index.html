<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="apple-touch-fullscreen" content="YES" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta http-equiv="Expires" content="-1" />
    <meta http-equiv="pragram" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui, user-scalable=no">
    <meta name="sharecontent" data-msg-img="images/title.png"
          data-msg-title="十个中国人的新年愿望"
          data-msg-content=""
          data-msg-callback="" data-line-img="images/title.png"
          data-line-title="十个中国人的新年愿望" data-line-callback="" />
    <link href="css/index.min.css" rel="stylesheet" />
    <style>
         
    </style>
    <title>十个中国人的新年愿望</title>
</head>
<body>
    <img src="images/tree.png" hidden alt="" />
    <section id="loading">

    </section>
    <section id="index">
        <figure class="title">
            <img src="" data-src="images/title.png" alt="" />
        </figure>
        <figure class="denglong">
            <img src="" data-src="images/denglong.png" alt="" />
        </figure>
        <figure class="tap">
            <img src="" data-src="images/tap.png" alt="" />
        </figure>
        <figure>
            <div class="person person1" data-id="1">
                <img src="" data-src="images/1.png" draggable="false" alt="" />
            </div>
            <div class="person person2" data-id="2">
                <img src="" data-src="images/2.png" draggable="false" alt="" />
            </div>
            <div class="person person3" data-id="3">
                <img src="" data-src="images/3.png" draggable="false" alt="" />
            </div>
            <div class="person person4" data-id="4">
                <img src="" data-src="images/4.png" draggable="false" alt="" />
            </div>
            <div class="person person5" data-id="5">
                <img src="" data-src="images/5.png" draggable="false" alt="" />
            </div>
            <div class="person person6" data-id="6">
                <img src="" data-src="images/6.png" draggable="false" alt="" />
            </div>
            <div class="person person7" data-id="7">
                <img src="" data-src="images/7.png" draggable="false" alt="" />
            </div>
            <div class="person person8" data-id="8">
                <img src="" data-src="images/8.png" draggable="false" alt="" />
            </div>
            <div class="person person9" data-id="9">
                <img src="" data-src="images/9.png" draggable="false" alt="" />
            </div>
            <div class="person person10" data-id="10">
                <img src="" data-src="images/10.png" draggable="false" alt="" />
            </div>
        </figure>
        <figure class="tree">
            <img src="" data-src="images/tree.png" draggable="false" alt="" />
            <div class="mark mark1"><span>新</span><span>年</span><span>大</span><span>吉</span></div>
            <div class="mark mark2"><span>学</span><span>习</span><span>进</span><span>步</span></div>
            <div class="mark mark3"><span>相</span><span>伴</span><span>永</span><span>远</span></div>
            <div class="mark mark4"><span>一</span><span>帆</span><span>风</span><span>顺</span></div>
            <div class="mark mark5"></div>
        </figure>
       
        <span class="info"></span>
        <div class="hand">
            <img src="images/hand.png" alt="" />
        </div>
    </section>
    
    <section id="xu" class="action" >
        <span class="info"></span>
    </section>

    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>

    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section class="action">
        <div class="desire">
            <div class="bottle"><img src="" data-src="images/bottle.png" alt="" /></div>
            <div class="look"><a href="javascript:void(0)">点击查看他的愿望</a></div>
        </div>
        <span class="info"></span>
    </section>
    <section id="mydesire"> <!--我的愿望-->
        <textarea cols="38" rows="7" placeholder="2015年，我的愿望是..."></textarea>
        <a href="javascript:void(0)" class="share" id="share">分&nbsp;&nbsp;享</a>
    </section>
    <section id="team">
        <!--制作团队-->
    </section>

    <div class="cloud" id="cloud">
        <img src="" data-src="images/snow.png" draggable="false" alt="" />
    </div>
    <div id="mask">
        <div><img src="images/1-1.png" alt="" /><span></span></div>
    </div>
    <script src="js/zepto-touch.min.js"></script>
    <script src="js/lt-mobile-util.min.js"></script> 
    <script>$(function () { function r() { t(n.index.find(".title")); t(n.index.find(".denglong")); ltUtil.setCss3(n.index.find(".tap").css({ top: "3%" })[0], { transform: "scale(.5) translate3d(0,0,0)" }); n.index.find(".person").each(function (n) { ltUtil.setCss3($(this)[0], { transitionDelay: n * 200 + 1200 + "ms", transform: "scale(.7)" }) }); i(n.index.find(".person").eq(-1), function () { n.index.find(".person").each(function () { ltUtil.setCss3($(this)[0], { transform: "scale(1)", transition: "1s", transitionTimingFunction: "cubic-bezier(0.215, -0.540, 0.895, 1.650)" }) }); n.index.find(".tree").css({ opacity: 1 }); ltUtil.setCss3(n.index.find(".tap").addClass("animation").css({ top: "13%" })[0], { transform: "translateY(10%)" }) }); i(n.index.find(".tree"), function () { ltUtil.setCss3($(".info").css({ opacity: 1 })[0], { animation: "shake 1s linear infinite" }); n.index.find(".hand").css({ opacity: 1 }); setTimeout(function () { n.index.find(".hand").remove() }, 6e3) }) } function u() { ltUtil.setCss3(t(n.index, [0, "-100%", 0])[0], { transition: "1s" }); ltUtil.setCss3(t(n.xu)[0], { transition: ".7s" }); n.iNow++ } function f(i) { i <= n.len - 1 ? (ltUtil.setCss3(t(n.action.eq(i - 1), [0, "-100%", 0])[0], { transition: "1s" }), ltUtil.setCss3(t(n.action.eq(i))[0], { transition: ".7s" }), n.iNow++) : (n.iNow = n.len - 1, n.iNow = n.len - 1, t(n.mydesire), t(n.action.eq(-1), [0, "-100%", 0])) } function i(t, i) { t.off(n.transitionEnd).on(n.transitionEnd, function () { i && i() }) } function e() { } function o() { var t = "#index{background:url(images/index.png) no-repeat center center;background-size:cover}             #xu{background:url(images/xu.jpg) no-repeat center center;background-size:cover}"; n.action.each(function (n) { n > 0 && (t += ".action:nth-of-type(" + (n + 3) + "){                    background:url(images/" + n + ".jpg) no-repeat center center;                    background-size:cover;                }") }); t += "#mask{background:url(images/bg.jpg) no-repeat center center;background-size:cover}"; t += "#mydesire{background:url(images/yw.png) no-repeat center center;background-size:cover}"; t += "#team{background:url(images/team.png) no-repeat center center;background-size:cover}"; $("head").append("<style>" + t + "<\/style>") } function t(n, t) { return arguments.length === 1 ? (n.css("-webkit-transform", "translate3d(0,0,0)"), n.css("transform", "translate3d(0,0,0)")) : (n.css("-webkit-transform", "translate3d(" + t[0] + "," + t[1] + "," + t[2] + ")"), n.css("transform", "translate3d(" + t[0] + "," + t[1] + "," + t[2] + ")")), n } var n = { iWidth: document.documentElement.clientWidth, iHeight: document.documentElement.clientHeight, index: $("#index"), xu: $("#xu"), iNow: 0, action: $(".action"), mask: $("#mask"), look: $(".look"), person: $(".person"), team: $("#team"), len: $(".action").size(), mydesire: $("#mydesire"), share: $("#share"), transitionEnd: "onwebkittransitionend" in window ? "webkitTransitionEnd" : "transitionend", imgLoadingArr: ["images/1.jpg", "images/1.png", "images/1-1.png", "images/2.jpg", "images/2.png", "images/2-1.png", "images/3.jpg", "images/3.png", "images/3-1.png", "images/4.jpg", "images/4.png", "images/4-1.png", "images/5.jpg", "images/5.png", "images/5-1.png", "images/6.jpg", "images/6.png", "images/6-1.png", "images/7.jpg", "images/7.png", "images/7-1.png", "images/8.jpg", "images/8.png", "images/8-1.png", "images/9.jpg", "images/9.png", "images/9-1.png", "images/10.jpg", "images/10.png", "images/10-1.png", "images/arron.png", "images/bg.jpg", "images/bottle.png", "images/denglong.png", "images/hand.png", "images/index.png", "images/info.png", "images/ioc.png", "images/lt_loading.png", "images/snow.png", "images/tap.png", "images/team.png", "images/title.png", "images/tree.png", "images/xu.jpg", "images/xy.png", "images/yw.png"] }; n.iWidth = n.index.width(); $(document).on("touchmove", function (n) { n.preventDefault() }).on("DOMMouseScroll", function (n) { n.preventDefault() }).on("mousewheel", function (n) { n.preventDefault() }); ltUtil.ltLoading(n.imgLoadingArr, function () { n.index.find("img").each(function () { $(this).attr("src") !== $(this).data("src") && $(this).attr("src", $(this).data("src")) }); n.action.find("img").each(function () { $(this).attr("src") !== $(this).data("src") && $(this).attr("src", $(this).data("src")) }); $("#cloud img").attr("src", $("#cloud img").data("src")); e(n.iWidth, n.iHeight); o(); t(n.index); t($("#loading"), [0, "-100%", 0]).off(n.transitionEnd).on(n.transitionEnd, function () { r() }) }, { id: "loading" }); n.mydesire.find("textarea").on("focus", function () { n.share.hide() }).on("blur", function () { n.share.show() }); n.share.tap(function () { var t = n.mydesire.find("textarea").val(); document.title = "我的愿望是：" + t; $("body").append("<div class='mask1' id='mask1' style=\"height:" + n.iHeight + "px\"><img width='122'  height='122' src='images/arron.png'><p>请点击右上角<br/>点击【分享到朋友圈】<br/>与好友共分享吧<\/p><\/div>"); setTimeout(function () { $("#mask1").remove() }, 5e3) }); n.mydesire.swipe("up", function () { t(n.mydesire, [0, "-100%", 0]); t(n.team) }); n.index.swipe("up", function () { u() }).tap(function (i) { var u = $(i.target).parent(), r; u.attr("class").indexOf("person") > -1 && (r = u.data("id"), t(n.index, [0, "-100%", 0]), t(n.xu, [0, "-100%", 0]), t(n.action.eq(r)), n.iNow = r + 1) }); n.action.each(function (t) { n.action.eq(t).swipe("up", function () { f(n.iNow) }) }); n.look.each(function () { $(this).tap(function () { t(n.mask); n.mask.find("div img").attr("src", "images/" + (n.iNow - 1) + "-1.png"); t(n.mask.find("div")).css({ opacity: 1 }) }) }); n.mask.tap(function (i) { i.target.nodeName === "SPAN" && (t(n.mask, ["100%", 0, 0]), t(n.mask.find("div"), ["100%", 0, 0]).css({ opacity: 0 })) }) });</script>
</body>
</html>
